webpackJsonp([18],{"3zz5":function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o("c2Ch"),l={name:"goodlist",data:function(){return{books:[],formInline:{user:"",region:""}}},mounted:function(){this.showBooks()},methods:{onSubmit:function(){console.log("submit!")},showBooks:function(){var e=this,n=this.$store.state.user.userId;Object(t.j)(n).then(function(n){if(null!=n.data){console.log(n.data);var o=[];n.data.forEach(function(e){o=e.imgurl.split(","),e.imgurl=o[0]}),e.books=n.data}})},updateBook:function(e){this.$router.push({name:"updatebook",params:{bookId:e}})},delBook:function(e){var n=this;Object(t.e)(e).then(function(e){0!=e.data&&(n.$message({showClose:!0,message:"删除成功",type:"success"}),n.showBooks())})}}},s=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",[o("div",{staticClass:"books-list"},[o("div",{staticClass:"book-search"},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[o("el-form-item",{attrs:{label:"搜索类型"}},[o("el-select",{attrs:{placeholder:"选择搜索类型"},model:{value:e.formInline.region,callback:function(n){e.$set(e.formInline,"region",n)},expression:"formInline.region"}},[o("el-option",{attrs:{label:"书名",value:"shanghai"}}),e._v(" "),o("el-option",{attrs:{label:"ISBN",value:"beijing"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:""}},[o("el-input",{attrs:{placeholder:"请输入搜索信息"},model:{value:e.formInline.user,callback:function(n){e.$set(e.formInline,"user",n)},expression:"formInline.user"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1),e._v(" "),null!=this.books?o("div",{staticClass:"books"},[o("el-table",{staticStyle:{width:"1000px"},attrs:{data:this.books,height:"700px",border:""}},[o("el-table-column",{attrs:{label:"封面",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("el-image",{staticStyle:{width:"90px",height:"90px"},attrs:{src:"http://localhost:8088/upload/"+e.row.imgurl}})]}}],null,!1,3124329023)}),e._v(" "),o("el-table-column",{attrs:{prop:"iSBN",label:"ISBN",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"bookName",label:"书名",width:"180"}}),e._v(" "),o("el-table-column",{attrs:{prop:"author",width:"180",label:"作者"}}),e._v(" "),o("el-table-column",{attrs:{prop:"publisher",width:"180",label:"出版社"}}),e._v(" "),o("el-table-column",{attrs:{prop:"price",width:"180",label:"价格"}}),e._v(" "),o("el-table-column",{attrs:{prop:"storage",label:"库存"}}),e._v(" "),o("el-table-column",{attrs:{prop:"tips",width:"250",label:"描述"}}),e._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(n){return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.updateBook(n.row.bookId)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.delBook(n.row)}}},[e._v("删除")])]}}],null,!1,1327908677)})],1)],1):o("div",[o("span",[e._v("未发布闲置")])])])])};s._withStripped=!0;var i={render:s,staticRenderFns:[]},a=i;var r=!1;var c=o("VU/8")(l,a,!1,function(e){r||o("YFeE")},"data-v-0464193c",null);c.options.__file="src/components/user/book/mybooks.vue";n.default=c.exports},YFeE:function(e,n,o){var t=o("ZC3E");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);o("rjj0")("1e6f693c",t,!1,{})},ZC3E:function(e,n,o){(e.exports=o("FZ+f")(!0)).push([e.i,"\n.book[data-v-0464193c]{\n  width: 800px;\n  height: 180px;\n  border: 1px solid #000000;\n  padding: 10px;\n  margin-left: 60px;\n}\n.books-list[data-v-0464193c]{\n    margin-left: 30px;\n}\n[data-v-0464193c] .el-button--primary{\n  background-color: #E0B41B;\n  border: 1px solid #E0B41B;\n  margin-left: 10px;\n  width: 100px;\n}\n[data-v-0464193c] .el-select .el-input.is-focus .el-input__inner{\n    border: 1px solid #E0B41B;\n}\n[data-v-0464193c] .el-select .el-input__inner:focus{\n    border-color: #666752;\n}\n[data-v-0464193c] .el-select-dropdown__item.selected{\n    color: #E0B41B;\n}\n[data-v-0464193c] .el-button--text{\n  color:#666752;\n}\n","",{version:3,sources:["C:/StudyProject/GitPro/vue-springboot-bookstores/ui-bookstore/src/components/user/book/src/components/user/book/mybooks.vue"],names:[],mappings:";AAmJA;EACA,aAAA;EACA,cAAA;EACA,0BAAA;EACA,cAAA;EACA,kBAAA;CACA;AACA;IACA,kBAAA;CACA;AAEA;EACA,0BAAA;EACA,0BAAA;EACA,kBAAA;EACA,aAAA;CACA;AACA;IACA,0BAAA;CACA;AAEA;IACA,sBAAA;CACA;AACA;IACA,eAAA;CACA;AACA;EACA,cAAA;CACA",file:"mybooks.vue",sourcesContent:['<template>\n    <div>\n      <div class="books-list">\n        <div class="book-search">\n          <el-form :inline="true" :model="formInline" class="demo-form-inline">\n            <el-form-item label="搜索类型">\n              <el-select v-model="formInline.region" placeholder="选择搜索类型">\n                <el-option label="书名" value="shanghai"></el-option>\n                <el-option label="ISBN" value="beijing"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label="">\n              <el-input v-model="formInline.user" placeholder="请输入搜索信息"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button type="primary" @click="onSubmit">查询</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n\x3c!--        单本图书布局--\x3e\n        <div class="books" v-if="this.books!=null">\n          <el-table\n            :data="this.books"\n            height="700px"\n            border\n            style="width: 1000px;">\n            <el-table-column label="封面" width="120">\n              <template slot-scope="scope">\n                <el-image :src="\'http://localhost:8088/upload/\'+scope.row.imgurl"  style="width: 90px;height: 90px"></el-image>\n              </template>\n            </el-table-column>\n            <el-table-column\n              prop="iSBN"\n              label="ISBN"\n              width="180">\n            </el-table-column>\n            <el-table-column\n              prop="bookName"\n              label="书名"\n              width="180">\n            </el-table-column>\n            <el-table-column\n              prop="author"\n              width="180"\n              label="作者">\n            </el-table-column>\n            <el-table-column\n              prop="publisher"\n              width="180"\n              label="出版社">\n            </el-table-column>\n            <el-table-column\n              prop="price"\n              width="180"\n              label="价格">\n            </el-table-column>\n            <el-table-column\n              prop="storage"\n              label="库存">\n            </el-table-column>\n            <el-table-column\n              prop="tips"\n              width="250"\n              label="描述">\n            </el-table-column>\n            <el-table-column\n              fixed="right"\n              label="操作"\n              width="100">\n              <template slot-scope="scope">\n                <el-button @click="updateBook(scope.row.bookId)" type="text" size="small">编辑</el-button>\n                <el-button @click="delBook(scope.row)" type="text" size="small">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n\n        </div>\n        <div v-else>\n          <span>未发布闲置</span>\n        </div>\n\n      </div>\n\n    </div>\n</template>\n\n<script>\n  import {delbook, findbookbyid, findbooksbyuser} from "../../../axios/api";\n\n  export default {\n        name: "goodlist",\n      data(){\n          return{\n            books:[],\n            formInline: {\n              user: \'\',\n              region: \'\'\n            }\n      }\n      },\n      mounted() {\n        this.showBooks()\n      },\n    methods:{\n      onSubmit() {\n        console.log(\'submit!\');\n      },\n      showBooks(){\n            let userId=this.$store.state.user.userId;\n            findbooksbyuser(userId).then(res=>{\n              if(res.data!=null){\n                console.log(res.data);\n                let imglist=[];\n                res.data.forEach(data=>{\n                  imglist=data.imgurl.split(",");\n                  data.imgurl=imglist[0]\n                })\n                this.books=res.data;\n              }\n            })\n          },\n      updateBook(bookId){\n      //跳转到商品修改页面\n        this.$router.push({\n          name:"updatebook",\n          params:{\n            bookId:bookId\n          }\n        });\n      },\n      delBook(book){\n        delbook(book).then(res=>{\n            if(res.data!=0){\n              this.$message({\n                showClose:true,\n                message:"删除成功",\n                type:"success"\n              })\n              this.showBooks()\n            }\n        })\n      }\n    }\n    }\n<\/script>\n\n<style scoped>\n.book{\n  width: 800px;\n  height: 180px;\n  border: 1px solid #000000;\n  padding: 10px;\n  margin-left: 60px;\n}\n  .books-list{\n    margin-left: 30px;\n  }\n\n/deep/ .el-button--primary{\n  background-color: #E0B41B;\n  border: 1px solid #E0B41B;\n  margin-left: 10px;\n  width: 100px;\n}\n  /deep/ .el-select .el-input.is-focus .el-input__inner{\n    border: 1px solid #E0B41B;\n  }\n\n  /deep/ .el-select .el-input__inner:focus{\n    border-color: #666752;\n  }\n  /deep/ .el-select-dropdown__item.selected{\n    color: #E0B41B;\n  }\n/deep/ .el-button--text{\n  color:#666752;\n}\n</style>\n'],sourceRoot:""}])}});
//# sourceMappingURL=18.a9f99b2022d8a0bb9f8d.js.map