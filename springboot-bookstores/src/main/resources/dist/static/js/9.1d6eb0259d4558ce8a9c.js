webpackJsonp([9],{CuNR:function(t,n,a){(t.exports=a("FZ+f")(!0)).push([t.i,"\n.comment-group[data-v-6a47d79e]{\n  height: 100%;\n  width: 800px;\n}\n.comment[data-v-6a47d79e],.addComment[data-v-6a47d79e]{\n  width: 700px;\n  margin: 0 auto;\n  height: 180px;\n}\n.book-show[data-v-6a47d79e]{\n  width: 800px;\n  height: 450px;\n}\n.book-buy-btn .el-button--default[data-v-6a47d79e]{\n  border:1px solid #E0B41B;\n  background-color: #f2f3ee;\n  width: 180px;\n  height: 38px;\n  margin: 0px 8px;\n  margin-top: 10px;\n}\n.el-button--default[data-v-6a47d79e]:hover{\n  background-color: white;\n  color: #E0B41B;\n}\n.el-divider--horizontal[data-v-6a47d79e]{\n  margin: 8px 0;\n}\n.book-price-ul[data-v-6a47d79e]{\n  height: 80px;\n  width: 540px;\n  border: 1px solid #F3F0E9;\n  background-color: #F3F0E9;\n  border-radius: 5px;\n}\n.book-price-ul  ul  li[data-v-6a47d79e]{\n  margin:10px 10px 10px 0px;\n}\n.book-div-ul[data-v-6a47d79e]{\n  height: 120px;\n  width: 540px;\n}\n.book-ul[data-v-6a47d79e]{\n  padding: 4px;\n  height: 80px;\n  width: 520px;\n  border: 1px solid  #F3F0E9;\n}\n.book-ul > li[data-v-6a47d79e]{\n  float: left;\n  margin:10px 10px 10px 0px;\n  font-size: 14px;\n}\n.bookdetail-body[data-v-6a47d79e]{\n  width: 1226px;\n  margin: 0 auto;\n  background-color:#F7F7F6;\n}\n.big-img[data-v-6a47d79e] {\n  width: 250px;\n  height: 300px;\n  overflow: hidden;\n  border: 4px solid #cdcdcd;\n  border-radius: 8px;\n}\n.big-img .img[data-v-6a47d79e] {\n  margin:auto 0;\n  width: 100%;\n  -webkit-transition: 0.5s all ease-in-out;\n  transition: 0.5s all ease-in-out;\n}\n.big-img:hover .img[data-v-6a47d79e] {\n  -webkit-transform: scale(1.5);\n          transform: scale(1.5);\n}\n.search[data-v-6a47d79e]{\n  width: 1226px;\n  margin: 0 auto;\n}\n.history[data-v-6a47d79e]{\n  position: relative;\n  margin-left: 210px;\n  padding-top: 0px;\n}\n.banner[data-v-6a47d79e]{\n  width: 100%;\n  background-color: #E9EBE7;\n  border: 1px solid #E9EBE7;\n}\n.search-input[data-v-6a47d79e]{\n  margin-left:450px;\n  margin-top: 2px;\n}\n.his-li[data-v-6a47d79e]{\n  float: left;\n  color: #333333;\n  font-size: 12pt;\n  margin-left: 8px;\n  opacity: 0.8;\n}\n.book-tabs[data-v-6a47d79e] .el-tabs__item.is-active{\n  color: #E0B41B !important;\n}\n.book-tabs[data-v-6a47d79e] .el-tabs__item:hover{\n  color: #E0B41B;\n}\n.book-tabs[data-v-6a47d79e] .el-tabs__item{\n  font-size: 18px;\n  margin:0  15px;\n}\n\n","",{version:3,sources:["C:/StudyProject/GitPro/vue-springboot-bookstores/ui-bookstore/src/assets/css/bookdetail.css"],names:[],mappings:";AAAA;EACE,aAAa;EACb,aAAa;CACd;AACD;EACE,aAAa;EACb,eAAe;EACf,cAAc;CACf;AAED;EACE,aAAa;EACb,cAAc;CACf;AACD;EACE,yBAAyB;EACzB,0BAA0B;EAC1B,aAAa;EACb,aAAa;EACb,gBAAgB;EAChB,iBAAiB;CAClB;AACD;EACE,wBAAwB;EACxB,eAAe;CAChB;AACD;EACE,cAAc;CACf;AACD;EACE,aAAa;EACb,aAAa;EACb,0BAA0B;EAC1B,0BAA0B;EAC1B,mBAAmB;CACpB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,cAAc;EACd,aAAa;CACd;AACD;EACE,aAAa;EACb,aAAa;EACb,aAAa;EACb,2BAA2B;CAE5B;AACD;EACE,YAAY;EACZ,0BAA0B;EAC1B,gBAAgB;CACjB;AAED;EACE,cAAc;EACd,eAAe;EACf,yBAAyB;CAC1B;AAED;EACE,aAAa;EACb,cAAc;EACd,iBAAiB;EACjB,0BAA0B;EAC1B,mBAAmB;CACpB;AACD;EACE,cAAc;EACd,YAAY;EACZ,yCAAiC;EAAjC,iCAAiC;CAElC;AACD;EACE,8BAAsB;UAAtB,sBAAsB;CACvB;AACD;EACE,cAAc;EACd,eAAe;CAChB;AACD;EACE,mBAAmB;EACnB,mBAAmB;EACnB,iBAAiB;CAClB;AACD;EACE,YAAY;EACZ,0BAA0B;EAC1B,0BAA0B;CAC3B;AACD;EACE,kBAAkB;EAClB,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,aAAa;CACd;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,eAAe;CAChB;AACD;EACE,gBAAgB;EAChB,eAAe;CAChB",file:"bookdetail.vue",sourcesContent:[".comment-group{\n  height: 100%;\n  width: 800px;\n}\n.comment,.addComment{\n  width: 700px;\n  margin: 0 auto;\n  height: 180px;\n}\n\n.book-show{\n  width: 800px;\n  height: 450px;\n}\n.book-buy-btn .el-button--default{\n  border:1px solid #E0B41B;\n  background-color: #f2f3ee;\n  width: 180px;\n  height: 38px;\n  margin: 0px 8px;\n  margin-top: 10px;\n}\n.el-button--default:hover{\n  background-color: white;\n  color: #E0B41B;\n}\n.el-divider--horizontal{\n  margin: 8px 0;\n}\n.book-price-ul{\n  height: 80px;\n  width: 540px;\n  border: 1px solid #F3F0E9;\n  background-color: #F3F0E9;\n  border-radius: 5px;\n}\n.book-price-ul  ul  li{\n  margin:10px 10px 10px 0px;\n}\n.book-div-ul{\n  height: 120px;\n  width: 540px;\n}\n.book-ul{\n  padding: 4px;\n  height: 80px;\n  width: 520px;\n  border: 1px solid  #F3F0E9;\n\n}\n.book-ul > li{\n  float: left;\n  margin:10px 10px 10px 0px;\n  font-size: 14px;\n}\n\n.bookdetail-body{\n  width: 1226px;\n  margin: 0 auto;\n  background-color:#F7F7F6; ;\n}\n\n.big-img {\n  width: 250px;\n  height: 300px;\n  overflow: hidden;\n  border: 4px solid #cdcdcd;\n  border-radius: 8px;\n}\n.big-img .img {\n  margin:auto 0;\n  width: 100%;\n  transition: 0.5s all ease-in-out;\n\n}\n.big-img:hover .img {\n  transform: scale(1.5);\n}\n.search{\n  width: 1226px;\n  margin: 0 auto;\n}\n.history{\n  position: relative;\n  margin-left: 210px;\n  padding-top: 0px;\n}\n.banner{\n  width: 100%;\n  background-color: #E9EBE7;\n  border: 1px solid #E9EBE7;\n}\n.search-input{\n  margin-left:450px;\n  margin-top: 2px;\n}\n.his-li{\n  float: left;\n  color: #333333;\n  font-size: 12pt;\n  margin-left: 8px;\n  opacity: 0.8;\n}\n.book-tabs >>> .el-tabs__item.is-active{\n  color: #E0B41B !important;\n}\n.book-tabs >>> .el-tabs__item:hover{\n  color: #E0B41B;\n}\n.book-tabs >>> .el-tabs__item{\n  font-size: 18px;\n  margin:0  15px;\n}\n"],sourceRoot:""}])},Rzwx:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=a("mvHQ"),e=a.n(o),i=a("0zi8"),s=a("Joay"),r=a("c2Ch"),l={name:"bookdetail",data:function(){return{car:{buyNum:""},book:"",commentlist:[],activeName:"first",addcomment:{content:""},bookId:""}},computed:{newprice:function(){var t=this.book.price*this.book.discount*.01,n=Number(t).toFixed(3),a=n.substring(0,n.length-1);return Number(a)}},components:{pageheader:i.a,pagefooter:s.a},mounted:function(){var t=this;this.bookId=this.$route.params.bookId,null==this.bookId&&(this.bookId=14);var n=this.bookId;Object(r.h)(n).then(function(n){var a=n.data.imgurl.split(",");t.book=n.data,t.book.imgurl=a,console.log(t.book),t.getCommentlist()})},methods:{handleChange:function(t){this.car.buyNum=t},handleClick:function(t,n){console.log(t,n)},addcar:function(){var t=this;this.car.bookId=this.bookId,this.car.userId=this.$store.state.user.userId,console.log(e()(this.car)),Object(r.b)(this.car).then(function(n){t.$message({showClose:!0,message:"添加成功",type:"success"});var a=null;0==n.data&&(a=t.bookId),t.$router.push({name:"shoppingcar",params:{fullStorage:a}}),console.log(a,n)})},subComment:function(){var t=this;this.addcomment.bookId=this.bookId,this.addcomment.userId=this.$store.state.user.userId,console.log("当前评论userId:"+this.$store.state.user.userId),this.addcomment.commentDate=new Date,Object(r.c)(this.addcomment).then(function(n){0!=n&&(t.$message({message:"留言成功",showClose:!0,type:"success"}),t.addcomment="",t.getCommentlist())}),console.log(e()(this.addcomment))},getCommentlist:function(){var t=this,n=this.bookId;Object(r.i)(n).then(function(n){t.commentlist=n.data,console.log(n)})},toupdate:function(t){this.$router.push({name:"updatebook",params:{bookId:t}})}}},d=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{attrs:{id:"bookdetail"}},[o("el-container",{attrs:{direction:"vertical"}},[o("el-main",[o("pageheader")],1),t._v(" "),o("div",{staticClass:"banner"},[o("el-container",{staticClass:"search",attrs:{direction:"horizontal"}},[o("el-main",[o("el-image",{staticStyle:{width:"230px",height:"88px"},attrs:{src:a("dLd/")}})],1),t._v(" "),o("el-container",{attrs:{direction:"vertical"}},[o("el-main",{staticClass:"search-input"},[o("el-input",{staticStyle:{width:"320px"},attrs:{placeholder:"请输入内容"}}),t._v(" "),o("el-button",[o("span",[t._v("搜索")])])],1),t._v(" "),o("el-main",{staticClass:"history"},[o("ul",{staticClass:"history"},[o("li",{staticClass:"his-li"},[t._v("莫言")]),t._v(" "),o("li",{staticClass:"his-li"},[t._v("余光中")]),t._v(" "),o("li",{staticClass:"his-li"},[t._v("毛姆")]),t._v(" "),o("li",{staticClass:"his-li"},[t._v("追风筝的人")]),t._v(" "),o("li",{staticClass:"his-li"},[t._v("莫言")]),t._v(" "),o("li",{staticClass:"his-li"},[t._v("余光中")])])])],1)],1)],1),t._v(" "),o("div",{staticClass:"bookdetail-body"},[o("el-button",{attrs:{icon:"el-icon-back",type:"text"}},[o("router-link",{staticStyle:{color:"#333333"},attrs:{to:"/index"}},[t._v("返回")])],1),t._v(" "),o("el-container",[o("el-container",{staticClass:"book-show"},[t.book.imgurl?o("div",{staticClass:"big-img"},[o("el-image",{staticClass:"img",attrs:{src:"http://localhost:8088/upload/"+t.book.imgurl[0]}})],1):t._e(),t._v(" "),o("el-main",{staticStyle:{"margin-left":"20px"}},[o("span",{staticStyle:{"font-size":"18px"}},[o("strong",[t._v(t._s(t.book.bookName))])]),t._v(" "),o("div",{staticClass:"book-div-ul"},[o("ul",{staticClass:"book-ul"},[o("li",[t._v("\n                    ISBN:"),o("span",[t._v(t._s(t.book.iSBN))])]),t._v(" "),o("li",[t._v("\n                    作者："),o("span",[t._v(t._s(t.book.author))])]),t._v(" "),o("li",[t._v("\n                    类型："),o("span",[t._v(t._s(t.book.code))])]),t._v(" "),o("li",[t._v("\n                    出版社："),o("span",[t._v(t._s(t.book.publisher))])]),t._v(" "),o("li",[t._v("\n                    出版日期："),o("span",[t._v(t._s(t._f("formatDate")(t.book.publishTime)))])])])]),t._v(" "),o("div",{staticClass:"book-price-ul"},[o("ul",[o("li",[t._v("\n                    售价："),o("span",{staticStyle:{"font-size":"18px",color:"red"}},[t._v("￥"+t._s(t.newprice))])]),t._v(" "),o("li",[t._v("\n                    原价："),o("span",{staticStyle:{"font-size":"15px",opacity:"0.9"}},[t._v(t._s(t.book.price))]),t._v("\n                    折扣："),o("span",{staticStyle:{"font-size":"15px",opacity:"0.9"}},[t._v(t._s(t.book.discount))])])])]),t._v(" "),o("el-divider"),t._v(" "),o("div",{staticClass:"book-date"},[o("ul",[o("li",[t._v("上新时间："),o("span",[t._v(t._s(t._f("formatTime")(t.book.upDate)))])]),t._v(" "),o("li",[t._v("库存："),o("span",[t._v(t._s(t.book.storage))])])]),t._v("\n                购买数量：  "),o("el-input-number",{attrs:{size:"small",min:1,max:t.book.storage},on:{change:t.handleChange},model:{value:t.car.buyNum,callback:function(n){t.$set(t.car,"buyNum",n)},expression:"car.buyNum"}})],1),t._v(" "),t.book.userId!=this.$store.state.user.userId?o("div",{staticClass:"book-buy-btn"},[o("el-button",{attrs:{autofocus:!0}},[t._v("立即购买")]),t._v(" "),o("el-button",{attrs:{autofocus:!0},on:{click:t.addcar}},[o("i",{staticClass:"el-icon-shopping-cart-2"}),t._v("加入购物车")])],1):o("div",{staticClass:"book-buy-btn"},[o("span",[t._v("我发布的闲置：")]),t._v(" "),o("el-button",{attrs:{autofocus:!0},on:{click:function(n){return t.toupdate(t.book.bookId)}}},[o("i",{staticClass:"el-icon-edit"}),t._v("修改书籍信息")])],1)],1)],1)],1),t._v(" "),o("el-main",{staticClass:"book-tabs"},[o("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(n){t.activeName=n},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"商品详情",name:"first"}},[o("div",[o("span",[t._v(t._s(t.book.tips))])]),t._v(" "),t.book.imgurl?o("div",t._l(t.book.imgurl,function(t){return o("div",{key:t.index},[o("el-image",{staticStyle:{width:"300px",height:"300px",margin:"10px 40px"},attrs:{src:"http://localhost:8088/upload/"+t}})],1)}),0):t._e()]),t._v(" "),o("el-tab-pane",{attrs:{label:"留言板",name:"second"}},[o("div",{staticClass:"comment-group"},[o("div",{staticClass:"addComment"},[o("el-form",{ref:"addcomment",attrs:{model:t.addcomment}},[o("el-avatar",{staticStyle:{border:"1px solid #E0B41B"},attrs:{src:this.$store.state.user.userImg}}),t._v(" "),o("el-form-item",{attrs:{label:""}},[o("el-input",{staticStyle:{width:"600px"},attrs:{type:"textarea","show-word-limit":"",maxlength:"20",placeholder:"看对眼就留言，问问细节吧"},model:{value:t.addcomment.content,callback:function(n){t.$set(t.addcomment,"content",n)},expression:"addcomment.content"}})],1),t._v(" "),o("el-form-item",[o("el-button",{staticStyle:{"background-color":"#E0B41B",border:"0"},attrs:{type:"primary"},on:{click:t.subComment}},[t._v("留言")])],1)],1)],1),t._v(" "),t._l(t.commentlist,function(n){return o("div",{key:n.index,staticClass:"comment"},[o("el-container",[o("el-avatar",{staticStyle:{border:"1px solid #E0B41B"},attrs:{src:"http://localhost:8088/upload/"+n.user.userImg}}),t._v(" "),o("el-main",{staticStyle:{"margin-left":"12px"}},[o("div",{staticClass:"commit-name"},[o("span",{staticStyle:{"font-size":"14px"}},[t._v(t._s(n.user.userName))]),t._v(" "),o("div",{staticStyle:{margin:"10px 0"}},[o("span",[t._v(t._s(n.content))])]),t._v(" "),o("div",{staticStyle:{margin:"10px 0","font-size":"14px"}},[o("span",[t._v(t._s(t._f("formatTime")(n.commentDate)))])])])])],1),t._v(" "),o("el-divider")],1)})],2)])],1)],1)],1),t._v(" "),o("el-main",[o("pagefooter")],1)],1)],1)};d._withStripped=!0;var c={render:d,staticRenderFns:[]},A=c;var p=!1;var m=a("VU/8")(l,A,!1,function(t){p||a("vnK+")},"data-v-6a47d79e",null);m.options.__file="src/page/bookdetail.vue";n.default=m.exports},"vnK+":function(t,n,a){var o=a("CuNR");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("189d6958",o,!1,{})}});
//# sourceMappingURL=9.1d6eb0259d4558ce8a9c.js.map